<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 14">
<meta name=Originator content="Microsoft Word 14">
<link rel=File-List href="Project_files/filelist.xml">
<link rel=Edit-Time-Data href="Project_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Rustem</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Rustem</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>4634</o:TotalTime>
  <o:LastPrinted>2015-11-05T14:13:00Z</o:LastPrinted>
  <o:Created>2016-03-04T21:49:00Z</o:Created>
  <o:LastSaved>2016-03-04T21:49:00Z</o:LastSaved>
  <o:Pages>9</o:Pages>
  <o:Words>1841</o:Words>
  <o:Characters>10500</o:Characters>
  <o:Lines>87</o:Lines>
  <o:Paragraphs>24</o:Paragraphs>
  <o:CharactersWithSpaces>12317</o:CharactersWithSpaces>
  <o:Version>14.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="Project_files/themedata.thmx">
<link rel=colorSchemeMapping href="Project_files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1073786111 1 0 415 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Calibri;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	mso-fareast-font-family:Calibri;
	mso-fareast-theme-font:minor-latin;
	mso-bidi-font-family:Tahoma;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Balloon Text";
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	mso-ascii-font-family:Tahoma;
	mso-hansi-font-family:Tahoma;
	mso-bidi-font-family:Tahoma;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Calibri;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=WordSection1>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Section 0. References<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>1. https://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U_test</p>

<p class=MsoNormal>2.
https://statistics.laerd.com/spss-tutorials/mann-whitney-u-test-using-spss-statistics.php</p>

<p class=MsoNormal>3. http://www.isixsigma.com/tools-templates/hypothesis-testing/making-sense-mann-whitney-test-median-comparison/</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Section 1.
Statistical Test<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>1.1<o:p></o:p></b></p>

<p class=MsoNormal>All computation was performed on the “improved” dataset.</p>

<p class=MsoNormal>According to the project description we are going to &quot;look
at the NYC Subway data and figure out if more people ride the subway when it is
raining versus when it is not raining&quot;. The null is: the probability of an
observation from the rain population exceeding an observation from the no rain
population equals the probability of an observation from the no rain population
exceeding an observation from the rain population. In other words:<span
style='mso-spacerun:yes'>  </span>&quot;The distributions of both populations
are equal&quot; [1]. <span style='mso-spacerun:yes'> </span>For a two-sided
test the alternative could be that distributions are different. In such case we
use two-tail p-value. For a directional test the alternative would be the rainy
population is greater than non-rainy population. In this case we use one-tail
p-value. The observed p-value is very low, so p-critical could be 0.05 or 0.01,
it does not matter much in this case.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>1.2<o:p></o:p></b></p>

<p class=MsoNormal>We used Mann-Whitney U-test which is a non-parametric test
applicable when the variables are not normally distributed. In our dataset the ridership
variable is not normally distributed as is evident from the shape of histograms
in problem set.</p>

<p class=MsoNormal>According to [3]:</p>

<p class=MsoNormal>Assumption #1: Your dependent variable should be measured at
the ordinal or continuous level.</p>

<p class=MsoNormal>Assumption #2: Your independent variable should consist of
two categorical, independent groups.</p>

<p class=MsoNormal>Assumption #3: You should have independence of observations,
which means that there is no relationship between the observations in each
group or between the groups themselves.</p>

<p class=MsoNormal>Assumption #4: A Mann-Whitney U test can be used when your
two variables are not normally distributed. </p>

<p class=MsoNormal>For the Mann-Whitney test, data from each population must be
an independent random sample, and the population distributions must have equal
variances and the same shape [2].</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>1.3<o:p></o:p></b></p>

<p class=MsoNormal>mean of the sample with rain: 2028.1960354720918</p>

<p class=MsoNormal>mean of the sample without rain: 1845.5394386644084</p>

<p class=MsoNormal>median of the sample with rain: 939.0</p>

<p class=MsoNormal>median of the sample without rain: 893.0</p>

<p class=MsoNormal>U-statistic: 153635120.5 </p>

<p class=MsoNormal>P-value one-sided: 2.7410695712437496e-06</p>

<p class=MsoNormal>P-value two-sided: 5.482139e-06</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>1.4<o:p></o:p></b></p>

<p class=MsoNormal>Observed p-value is much lower than p-critical, which means
we reject the null hypothesis. There is a difference between ridership on rainy
and non-rainy days. U-statistics for rainy and not rainy days are 163283319.5
and 153635120.5 respectfully (see code in the script section below), which
indicates higher ridership on rainy days. Mean and median were higher for rainy
days as well.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Section 2. Linear
Regression</b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.1<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>I used OLS using Statsmodels</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.2<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>I used 'rain','hour', 'meantempi','day_week','UNIT','conds'
as features. 'UNIT','conds' as dummy variables.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.3<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>I chose features based on my understanding how likely people
will use subway based on particular feature and also based on the p-value
associated with this feature in the model output. Some features, such as 'fog',
'meanpressurei', had high p-values, so they did not add much to the fit. Some,
such as 'precipi', obtained much higher p-value and became irrelevant once
'conds' feature was introduced.<span style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.4<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Coefficients:</p>

<p class=MsoNormal>intercept:<span style='mso-spacerun:yes'> 
</span>2334.79628861</p>

<p class=MsoNormal>rain<span style='mso-spacerun:yes'>        
</span>201.059769</p>

<p class=MsoNormal>hour<span style='mso-spacerun:yes'>        
</span>122.841226</p>

<p class=MsoNormal>meantempi<span style='mso-spacerun:yes'>   
</span>-25.497201</p>

<p class=MsoNormal>day_week<span style='mso-spacerun:yes'>   
</span>-147.609148</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>P-values:</p>

<p class=MsoNormal>const<span style='mso-spacerun:yes'>        
</span>3.971428e-89</p>

<p class=MsoNormal>rain<span style='mso-spacerun:yes'>         
</span>4.568845e-10</p>

<p class=MsoNormal>hour<span style='mso-spacerun:yes'>         
</span>0.000000e+00</p>

<p class=MsoNormal>meantempi<span style='mso-spacerun:yes'>    
</span>3.763489e-48</p>

<p class=MsoNormal>day_week<span style='mso-spacerun:yes'>    
</span>3.904031e-182</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.5<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Coefficient of determination:</p>

<p class=MsoNormal>R2:<span style='mso-spacerun:yes'>  </span>0.476764145286</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.6<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>This R2 value means that about 47.67% of the variability in
the data is explained by the model. Obviously we would like to have a better
model. At the same time we did not use interaction terms in our model or any
other types of regression, such as polynomial to explore non-linear
relationships. </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Section 3.
Vizualization<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>3.1<o:p></o:p></b></p>

<p class=MsoNormal><span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="Picture_x0020_1" o:spid="_x0000_i1027" type="#_x0000_t75"
 style='width:366pt;height:274.2pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="Project_files/image001.png" o:title="hist"/>
</v:shape><![endif]--><![if !vml]><img width=610 height=457
src="Project_files/image002.png" v:shapes="Picture_x0020_1"><![endif]></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Distributions are non-normal and skewed to the right. Rainy
days have less data entries probably reflecting the number of rainy days during
the year. Both distributions appear to have the same shape, which validates the
usage of Mann-Whitney test. </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>3.2<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_2" o:spid="_x0000_i1026" type="#_x0000_t75" style='width:337.2pt;
 height:245.4pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="Project_files/image003.png" o:title="plot_ride_timeofday"/>
</v:shape><![endif]--><![if !vml]><img width=562 height=409
src="Project_files/image004.png" v:shapes="Picture_x0020_2"><![endif]></span></p>

<p class=MsoNormal>Plot shows ridership by time of the day with the values
representing the aggregate number of entries per a time point in a whole
dataset. There is an apparent dependence of rides on the time of day indicating
the time of day to be an important feature. Ridership is low in early hours and
goes up by the mid-morning and reaches peak by the end of the day.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Section 4. Conclusion<o:p></o:p></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>4.1-4.2<o:p></o:p></b></p>

<p class=MsoNormal>Yes, it looks like more people ride the NYC subway when it
is raining. Both means (2028 vs 1845) and medians (939 vs 893) of ridership are
higher for the days with rain. Mann-Whitney test was very conclusive with
p-value of 2.74e-06. Based on the observed p-value we can reject the null
hypothesis that both populations have equal distributions. In addition, U-statistics
for rainy and not rainy days are 163283319.5 and 153635120.5 respectfully (see
code in the script section below). Larger value for rainy days U-statistic
indicates higher volume of ridership.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The linear regression model also provides the evidence in
support of increased ridership in rainy days. Variable ‘rain’ has a very low
p-value of 4.57e-10. The coefficient for ‘rain’ feature is 201.06, indicating
increase in rides on rainy days on 201 rides on average.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Section 5. Reflection<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>5.1<o:p></o:p></b></p>

<p class=MsoNormal>Our dataset is limited to only one month time period. Weather
conditions can vary from month to month during the year. More data accumulated over
time could improve the accuracy of prediction.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>In our model only about 46.67% of the variability of the
data is explained. That could occur due to various reasons. For example, the
dataset itself is incomplete for such an analysis meaning some of the important
features are missing. There may be some features, such as cultural events or
density of population in the area that may influence subway usage. </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>We used the simplest linear model. We did not use
interaction terms in our model or any other types of regression, such as
polynomial to explore non-linear relationships. Plotting residuals vs fitted
values (below) identifies non-linear associations. It seems likely that the
accuracy of the model can be improved if interaction terms are implemented or
non-linear relationships are exploited by polynomial regression.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_3" o:spid="_x0000_i1025" type="#_x0000_t75" style='width:357pt;
 height:259.8pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="Project_files/image005.png" o:title="plot_residuals_vs_fitted"/>
</v:shape><![endif]--><![if !vml]><img width=595 height=433
src="Project_files/image006.png" v:shapes="Picture_x0020_3"><![endif]></span></p>

<p class=MsoNormal>Plot of values fitted by linear model vs residuals. There is
a strong pattern indicating non-linearity.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt'>Scripts<o:p></o:p></span></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Mann-Wittney U-test</b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>import sys </p>

<p class=MsoNormal>import numpy as np</p>

<p class=MsoNormal>import scipy</p>

<p class=MsoNormal>import scipy.stats</p>

<p class=MsoNormal>import pandas</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>turnstile_weather = pandas.read_csv(sys.argv[1]) </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>def mann_whitney_plus_means(turnstile_weather):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>rain =
turnstile_weather[turnstile_weather['rain']==1]['ENTRIESn_hourly']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>nora =
turnstile_weather[turnstile_weather['rain']==0]['ENTRIESn_hourly']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>U, p = scipy.stats.mannwhitneyu(rain,
nora, use_continuity=True)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>with_rain_mean =
np.mean(rain)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>without_rain_mean
= np.mean(nora)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>with_rain_median =
np.median(rain)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>   
</span>without_rain_median = np.median(nora)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>return
with_rain_mean, without_rain_mean,with_rain_median,without_rain_median, U, p </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>print mann_whitney_plus_means(turnstile_weather)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>OLS using Statsmodels</b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>import sys</p>

<p class=MsoNormal>import numpy as np</p>

<p class=MsoNormal>import pandas</p>

<p class=MsoNormal>import statsmodels.api as sm</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>dataframe = pandas.read_csv(sys.argv[1]) </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>def linear_regression(features, values):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>features =
sm.add_constant(features)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>model =
sm.OLS(values,features)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>results =
model.fit()</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>intercept =
results.params[0]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>params =
results.params[1:]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>r2 =
results.rsquared</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>pval =
results.pvalues[0:5]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>return intercept,
params,pval, r2</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal>def predictions(dataframe):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>features =
dataframe[['rain','hour', 'meantempi','day_week']]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>dummy_units =
pandas.get_dummies(dataframe[['UNIT','conds']], prefix=['unit','conds'])</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>features =
features.join(dummy_units)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span># Values</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>values =
dataframe['ENTRIESn_hourly']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span># Perform linear
regression</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>intercept,
params,pval,r2 = linear_regression(features, values)<span
style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>predictions =
intercept + np.dot(features, params)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>print 'intercept:
', intercept</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>print params[0:4]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>print pval</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>print 'R2: ', r2</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>return predictions</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>predictions(dataframe)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>U-statistics for
Mann-Whitney</b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>import sys</p>

<p class=MsoNormal>import scipy</p>

<p class=MsoNormal>import scipy.stats</p>

<p class=MsoNormal>import pandas</p>

<p class=MsoNormal>from numpy import array, asarray, ma, zeros</p>

<p class=MsoNormal>import numpy as np</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>turnstile_weather = pandas.read_csv(sys.argv[1])</p>

<p class=MsoNormal>rain =
turnstile_weather[turnstile_weather['rain']==1]['ENTRIESn_hourly']</p>

<p class=MsoNormal>nora =
turnstile_weather[turnstile_weather['rain']==0]['ENTRIESn_hourly']</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>def get_u_mannwhitneyu(x, y):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>x = asarray(x)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>y = asarray(y)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>n1 = len(x)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>n2 = len(y)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>ranked =
scipy.stats.rankdata(np.concatenate((x, y)))</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>rankx =
ranked[0:n1]<span style='mso-spacerun:yes'>  </span># get the x-ranks</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>u1 = np.sum(rankx,
axis=0) - (n1*(n1+1))/2.0 # calc U for x</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>u2 = n1*n2 - u1 #
remainder is U for y</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>return u1,u2</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>print get_u_mannwhitneyu(rain, nora)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Histogram of rides on
rainy and not rainy days</b></p>

<p class=MsoNormal>import sys</p>

<p class=MsoNormal>import numpy as np</p>

<p class=MsoNormal>import scipy</p>

<p class=MsoNormal>import matplotlib.pyplot as plt</p>

<p class=MsoNormal>import pandas</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>turnstile_weather = pandas.read_csv(sys.argv[1]) </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>def plot_distribution(turnstile_weather):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>plt.figure()</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>rain =
turnstile_weather[turnstile_weather['rain']==1]['ENTRIESn_hourly']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>nora =
turnstile_weather[turnstile_weather['rain']==0]['ENTRIESn_hourly']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>plt.figure()</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>#rain.plot(kind='hist',
stacked=True, bins=20, label = 'Rain')</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>   
</span>#nora.plot(kind='hist', stacked=True, bins=20, label = 'No Rain')</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>   
</span>plt.hist([rain,nora], bins=40, stacked=True,color=['blue',
'coral'],label = ['Rain','No Rain'])</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>   
</span>plt.xlabel(&quot;ENTRIESn_hourly&quot;)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>   
</span>plt.ylabel(&quot;Frequency&quot;)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>   
</span>plt.title(&quot;Histogram of Rideship on Rainy and Non-rainy days&quot;,
color = 'blue', size = 'x-large')</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>plt.legend()</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>plt.show()</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>return plt</p>

<p class=MsoNormal>plot_distribution(turnstile_weather)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Plot ridership by
time-of-day<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>import sys</p>

<p class=MsoNormal>from pandas import *</p>

<p class=MsoNormal>from ggplot import *</p>

<p class=MsoNormal>import pandasql</p>

<p class=MsoNormal>pandas.options.mode.chained_assignment = None</p>

<p class=MsoNormal>turnstile_weather = pandas.read_csv(sys.argv[1]) </p>

<p class=MsoNormal>def plot_weather_data(turnstile_weather):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>   
</span>turnstile_weather.rename(columns = lambda x: x.replace(' ',
'_').lower(), inplace=True)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>q =
&quot;&quot;&quot;</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>SELECT Hour,
sum(ENTRIESn_hourly)<span style='mso-spacerun:yes'>  </span>FROM
turnstile_weather GROUP BY Hour;</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&quot;&quot;&quot;</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>df = pandasql.sqldf(q.lower(),
locals())</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>plot =
ggplot(aes(x='hour', y='sum(entriesn_hourly)'), data=df)+geom_line(color='steelblue',size=3)+geom_point(color='steelblue',size=30)+ggtitle('Rideship
by Time-of-day')+xlab('Hour of the day')+ylab('Ridership')+xlim(0,20)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>return plot</p>

<p class=MsoNormal>print plot_weather_data(turnstile_weather)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Plot fitted values vs
residuals<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>import sys</p>

<p class=MsoNormal>from ggplot import *</p>

<p class=MsoNormal>import numpy as np</p>

<p class=MsoNormal>import pandas</p>

<p class=MsoNormal>import statsmodels.api as sm</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>dataframe = pandas.read_csv(sys.argv[1]) </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>def linear_regression(features, values):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>features =
sm.add_constant(features)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>model =
sm.OLS(values,features)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>results =
model.fit()</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>intercept =
results.params[0]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>params =
results.params[1:]</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>return intercept,
params</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal>def predictions(dataframe):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>features =
dataframe[['rain','hour', 'meantempi','day_week']]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>dummy_units =
pandas.get_dummies(dataframe[['UNIT','conds']], prefix=['unit','conds'])</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>features =
features.join(dummy_units)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span># Values</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>values =
dataframe['ENTRIESn_hourly']</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span># Perform linear
regression</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>intercept, params
= linear_regression(features, values)<span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>predictions =
intercept + np.dot(features, params)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>return predictions</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>def plot_res_vs_fittted(dataframe, predictions):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>df = dataframe</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>pred =
predictions(df)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>df.rename(columns
= lambda x: x.replace(' ', '_').lower(), inplace=True)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>df['predictions']
= pred</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>df['difference'] =
df['entriesn_hourly'] - df['predictions']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>plot =
ggplot(aes(x='predictions', y='difference'),
data=df)+geom_point(color='blue',size=15)+geom_hline(yintercept=0,color='red',linetype='dashed',size=1.5)+ggtitle('Residual
Plot for Linear Fit')+xlab('Fitted values')+ylab('Residuals') +xlim(0,12000)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>return plot</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>print plot_res_vs_fittted(dataframe, predictions)</p>

</div>

</body>

</html>
