<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 14">
<meta name=Originator content="Microsoft Word 14">
<link rel=File-List href="Project_1.2_files/filelist.xml">
<link rel=Edit-Time-Data href="Project_1.2_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Rustem</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Rustem</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>4690</o:TotalTime>
  <o:LastPrinted>2015-11-05T14:13:00Z</o:LastPrinted>
  <o:Created>2016-03-04T22:45:00Z</o:Created>
  <o:LastSaved>2016-03-04T22:45:00Z</o:LastSaved>
  <o:Pages>9</o:Pages>
  <o:Words>1841</o:Words>
  <o:Characters>10500</o:Characters>
  <o:Lines>87</o:Lines>
  <o:Paragraphs>24</o:Paragraphs>
  <o:CharactersWithSpaces>12317</o:CharactersWithSpaces>
  <o:Version>14.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="Project_1.2_files/themedata.thmx">
<link rel=colorSchemeMapping href="Project_1.2_files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Print</w:View>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1073786111 1 0 415 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Calibri;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	mso-fareast-font-family:Calibri;
	mso-fareast-theme-font:minor-latin;
	mso-bidi-font-family:Tahoma;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Balloon Text";
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	mso-ascii-font-family:Tahoma;
	mso-hansi-font-family:Tahoma;
	mso-bidi-font-family:Tahoma;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Calibri;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=WordSection1>

<p class=MsoNormal><span class=GramE><b style='mso-bidi-font-weight:normal'>Section
0.</b></span><b style='mso-bidi-font-weight:normal'> References<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>1. https://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U_test</p>

<p class=MsoNormal>2.
https://statistics.laerd.com/spss-tutorials/mann-whitney-u-test-using-spss-statistics.php</p>

<p class=MsoNormal>3. http://www.isixsigma.com/tools-templates/hypothesis-testing/making-sense-mann-whitney-test-median-comparison/</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE><b style='mso-bidi-font-weight:normal'>Section
1.</b></span><b style='mso-bidi-font-weight:normal'> Statistical Test<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>1.1<o:p></o:p></b></p>

<p class=MsoNormal>All computation was performed on the “improved” dataset.</p>

<p class=MsoNormal>According to the project description we are going to &quot;look
at the NYC Subway data and figure out if more people ride the subway when it is
raining versus when it is not raining&quot;. The null is: the probability of an
observation from the rain population exceeding an observation from the no rain
population equals the probability of an observation from the no rain population
exceeding an observation from the rain population. In other words:<span
style='mso-spacerun:yes'>  </span>&quot;The distributions of both populations
are equal&quot; [1]. <span style='mso-spacerun:yes'> </span>For a two-sided
test the alternative could be that distributions are different. In such case we
use two-tail p-value. For a directional test the alternative would be the rainy
population is greater than non-rainy population. In this case we use one-tail
p-value. The observed p-value is very low, so p-critical could be 0.05 or 0.01,
it does not matter much in this case.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>1.2<o:p></o:p></b></p>

<p class=MsoNormal>We used Mann-Whitney U-test which is a non-parametric test
applicable when the variables are not normally distributed. In our dataset the ridership
variable is not normally distributed as is evident from the shape of histograms
in problem set.</p>

<p class=MsoNormal>According to [3]:</p>

<p class=MsoNormal>Assumption #1: Your dependent variable should be measured at
the ordinal or continuous level.</p>

<p class=MsoNormal>Assumption #2: Your independent variable should consist of
two categorical, independent groups.</p>

<p class=MsoNormal>Assumption #3: You should have independence of observations,
which means that there is no relationship between the observations in each
group or between the groups themselves.</p>

<p class=MsoNormal>Assumption #4: A Mann-Whitney U test can be used when your
two variables are not normally distributed. </p>

<p class=MsoNormal>For the Mann-Whitney test, data from each population must be
an independent random sample, and the population distributions must have equal
variances and the same shape [2].</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>1.3<o:p></o:p></b></p>

<p class=MsoNormal><span class=GramE>mean</span> of the sample with rain:
2028.1960354720918</p>

<p class=MsoNormal><span class=GramE>mean</span> of the sample without rain:
1845.5394386644084</p>

<p class=MsoNormal><span class=GramE>median</span> of the sample with rain:
939.0</p>

<p class=MsoNormal><span class=GramE>median</span> of the sample without rain:
893.0</p>

<p class=MsoNormal>U-statistic: 153635120.5 </p>

<p class=MsoNormal>P-value one-sided: 2.7410695712437496e-06</p>

<p class=MsoNormal>P-value two-sided: 5.482139e-06</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>1.4<o:p></o:p></b></p>

<p class=MsoNormal>Observed p-value is much lower than p-critical, which means
we reject the null hypothesis. There is a difference between ridership on rainy
and non-rainy days. U-statistics for rainy and not rainy days are 163283319.5
and 153635120.5 respectfully (see code in the script section below), which
indicates higher ridership on rainy days. Mean and median were higher for rainy
days as well.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE><b style='mso-bidi-font-weight:normal'>Section
2.</b></span><b style='mso-bidi-font-weight:normal'> Linear Regression</b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.1<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>I used OLS using <span class=SpellE>Statsmodels</span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.2<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>I used '<span class=SpellE>rain','hour</span>', '<span
class=SpellE>meantempi</span>','day_week','UNIT','<span class=SpellE>conds</span>'
as features. <span class=GramE>'UNIT','<span class=SpellE>conds</span>' as
dummy variables.</span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.3<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>I chose features based on my understanding how likely people
will use subway based on particular feature and also based on the p-value
associated with this feature in the model output. Some features, such as 'fog',
'<span class=SpellE>meanpressurei</span>', had high p-values, so they did not
add much to the fit. Some, such as '<span class=SpellE>precipi</span>',
obtained much higher p-value and became irrelevant once '<span class=SpellE>conds</span>'
feature was introduced.<span style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.4<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Coefficients:</p>

<p class=MsoNormal><span class=GramE>intercept</span>:<span
style='mso-spacerun:yes'>  </span>2334.79628861</p>

<p class=MsoNormal><span class=GramE>rain</span><span
style='mso-spacerun:yes'>         </span>201.059769</p>

<p class=MsoNormal><span class=GramE>hour</span><span
style='mso-spacerun:yes'>         </span>122.841226</p>

<p class=MsoNormal><span class=SpellE><span class=GramE>meantempi</span></span><span
style='mso-spacerun:yes'>    </span>-25.497201</p>

<p class=MsoNormal><span class=SpellE>day_week</span><span
style='mso-spacerun:yes'>    </span>-147.609148</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>P-values:</p>

<p class=MsoNormal><span class=SpellE><span class=GramE>const</span></span><span
style='mso-spacerun:yes'>         </span>3.971428e-89</p>

<p class=MsoNormal><span class=GramE>rain</span><span
style='mso-spacerun:yes'>          </span>4.568845e-10</p>

<p class=MsoNormal><span class=GramE>hour</span><span
style='mso-spacerun:yes'>          </span>0.000000e+00</p>

<p class=MsoNormal><span class=SpellE><span class=GramE>meantempi</span></span><span
style='mso-spacerun:yes'>     </span>3.763489e-48</p>

<p class=MsoNormal><span class=SpellE><span class=GramE>day_week</span></span><span
style='mso-spacerun:yes'>     </span>3.904031e-182</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.5<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Coefficient of determination:</p>

<p class=MsoNormal>R2:<span style='mso-spacerun:yes'>  </span>0.476764145286</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>2.6<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>This R2 value means that about 47.67% of the variability in
the data is explained by the model. Obviously we would like to have a better
model. At the same time we did not use interaction terms in our model or any
other types of regression, such as polynomial to explore non-linear
relationships. </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE><b style='mso-bidi-font-weight:normal'>Section
3.</b></span><b style='mso-bidi-font-weight:normal'> <span class=SpellE>Vizualization</span><o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>3.1<o:p></o:p></b></p>

<p class=MsoNormal><span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="Picture_x0020_1" o:spid="_x0000_i1027" type="#_x0000_t75"
 style='width:366pt;height:274.2pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="Project_1.2_files/image001.png" o:title="hist"/>
</v:shape><![endif]--><![if !vml]><img width=610 height=457
src="Project_1.2_files/image002.png" v:shapes="Picture_x0020_1"><![endif]></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Distributions are non-normal and skewed to the right. Rainy
days have less data entries probably reflecting the number of rainy days during
the year. Both distributions appear to have the same shape, which validates the
usage of Mann-Whitney test. </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>3.2<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_2" o:spid="_x0000_i1026" type="#_x0000_t75" style='width:337.2pt;
 height:245.4pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="Project_1.2_files/image003.png" o:title="plot_ride_timeofday"/>
</v:shape><![endif]--><![if !vml]><img width=562 height=409
src="Project_1.2_files/image004.png" v:shapes="Picture_x0020_2"><![endif]></span></p>

<p class=MsoNormal>Plot shows ridership by time of the day with the values
representing the aggregate number of entries per a time point in a whole
dataset. There is an apparent dependence of rides on the time of day indicating
the time of day to be an important feature. Ridership is low in early hours and
goes up by the mid-morning and reaches peak by the end of the day.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE><b style='mso-bidi-font-weight:normal'>Section
4.</b></span><b style='mso-bidi-font-weight:normal'> Conclusion<o:p></o:p></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>4.1-4.2<o:p></o:p></b></p>

<p class=MsoNormal>Yes, it looks like more people ride the NYC subway when it
is raining. Both means (2028 vs 1845) and medians (939 vs 893) of ridership are
higher for the days with rain. Mann-Whitney test was very conclusive with
p-value of 2.74e-06. Based on the observed p-value we can reject the null
hypothesis that both populations have equal distributions. In addition, U-statistics
for rainy and not rainy days are 163283319.5 and 153635120.5 respectfully (see
code in the script section below). Larger value for rainy days U-statistic
indicates higher volume of ridership.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The linear regression model also provides the evidence in
support of increased ridership in rainy days. Variable ‘rain’ has a very low
p-value of 4.57e-10. The coefficient for ‘rain’ feature is 201.06, indicating
increase in rides on rainy days on 201 rides on average.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE><b style='mso-bidi-font-weight:normal'>Section
5.</b></span><b style='mso-bidi-font-weight:normal'> Reflection<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>5.1<o:p></o:p></b></p>

<p class=MsoNormal>Our dataset is limited to only one month time period. Weather
conditions can vary from month to month during the year. More data accumulated over
time could improve the accuracy of prediction.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>In our model only about 46.67% of the variability of the
data is explained. That could occur due to various reasons. For example, the
dataset itself is incomplete for such an analysis meaning some of the important
features are missing. There may be some features, such as cultural events or
density of population in the area that may influence subway usage. </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>We used the simplest linear model. We did not use
interaction terms in our model or any other types of regression, such as
polynomial to explore non-linear relationships. Plotting residuals vs fitted
values (below) identifies non-linear associations. It seems likely that the
accuracy of the model can be improved if interaction terms are implemented or
non-linear relationships are exploited by polynomial regression.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_3" o:spid="_x0000_i1025" type="#_x0000_t75" style='width:357pt;
 height:259.8pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="Project_1.2_files/image005.png" o:title="plot_residuals_vs_fitted"/>
</v:shape><![endif]--><![if !vml]><img width=595 height=433
src="Project_1.2_files/image006.png" v:shapes="Picture_x0020_3"><![endif]></span></p>

<p class=MsoNormal>Plot of values fitted by linear model vs residuals. There is
a strong pattern indicating non-linearity.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt'>Scripts<o:p></o:p></span></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Mann-<span
class=SpellE>Wittney</span> U-test</b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>import</span> sys </p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>numpy</span>
as np</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>scipy</span></p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>scipy.stats</span></p>

<p class=MsoNormal><span class=GramE>import</span> pandas</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE>turnstile_weather</span> = <span
class=SpellE>pandas.read_<span class=GramE>csv</span></span><span class=GramE>(</span><span
class=SpellE>sys.argv</span>[1]) </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>def</span></span> <span
class=SpellE>mann_whitney_plus_means</span>(<span class=SpellE>turnstile_weather</span>):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>rain</span>
= turnstile_weather[turnstile_weather['rain']==1]['ENTRIESn_hourly']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>nora</span></span> =
turnstile_weather[turnstile_weather['rain']==0]['ENTRIESn_hourly']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>U, p = <span
class=SpellE><span class=GramE>scipy.stats.mannwhitneyu</span></span><span
class=GramE>(</span>rain, <span class=SpellE>nora</span>, <span class=SpellE>use_continuity</span>=True)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE>with_rain_mean</span> = <span class=SpellE><span class=GramE>np.mean</span></span><span
class=GramE>(</span>rain)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE>without_rain_mean</span> = <span class=SpellE><span class=GramE>np.mean</span></span><span
class=GramE>(</span><span class=SpellE>nora</span>)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE>with_rain_median</span> = <span class=SpellE><span class=GramE>np.median</span></span><span
class=GramE>(</span>rain)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE>without_rain_median</span> = <span class=SpellE><span class=GramE>np.median</span></span><span
class=GramE>(</span><span class=SpellE>nora</span>)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
<span class=SpellE>with_rain_mean</span>, <span class=SpellE>without_rain_mean,with_rain_median,without_rain_median</span>,
U, p </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>print</span> <span class=SpellE>mann_whitney_plus_means</span>(<span
class=SpellE>turnstile_weather</span>)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>OLS using <span
class=SpellE>Statsmodels</span></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>import</span> sys</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>numpy</span>
as np</p>

<p class=MsoNormal><span class=GramE>import</span> pandas</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>statsmodels.api</span>
as <span class=SpellE>sm</span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>dataframe</span></span>
= <span class=SpellE>pandas.read_csv</span>(<span class=SpellE>sys.argv</span>[1])
</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>def</span></span> <span
class=SpellE>linear_regression</span>(features, values):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>features</span>
= <span class=SpellE>sm.add_constant</span>(features)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>model</span>
= <span class=SpellE>sm.OLS</span>(<span class=SpellE>values,features</span>)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>results</span>
= <span class=SpellE>model.fit</span>()</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>intercept</span>
= <span class=SpellE>results.params</span>[0]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>params</span></span> = <span class=SpellE>results.params</span>[1:]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>r2 = <span
class=SpellE>results.rsquared</span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>pval</span></span> = <span class=SpellE>results.pvalues</span>[0:5]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
intercept, <span class=SpellE>params,pval</span>, r2</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>def</span></span>
predictions(<span class=SpellE>dataframe</span>):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>features</span>
= <span class=SpellE>dataframe</span>[['<span class=SpellE>rain','hour</span>',
'<span class=SpellE>meantempi</span>','<span class=SpellE>day_week</span>']]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE>dummy_units</span> = <span class=SpellE>pandas.get_<span
class=GramE>dummies</span></span><span class=GramE>(</span><span class=SpellE>dataframe</span>[['UNIT','<span
class=SpellE>conds</span>']], prefix=['unit','<span class=SpellE>conds</span>'])</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>features</span>
= <span class=SpellE>features.join</span>(<span class=SpellE>dummy_units</span>)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span># Values</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>values</span>
= <span class=SpellE>dataframe</span>['<span class=SpellE>ENTRIESn_hourly</span>']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span># Perform linear
regression</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>intercept</span>,
params,pval,r2 = <span class=SpellE>linear_regression</span>(features,
values)<span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>predictions</span>
= intercept + np.dot(features, <span class=SpellE>params</span>)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>print</span>
'intercept: ', intercept</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>print</span>
<span class=SpellE>params</span>[0:4]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>print</span>
<span class=SpellE>pval</span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>print</span>
'R2: ', r2</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
predictions</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>predictions(</span><span class=SpellE>dataframe</span>)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>U-statistics for
Mann-Whitney</b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>import</span> sys</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>scipy</span></p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>scipy.stats</span></p>

<p class=MsoNormal><span class=GramE>import</span> pandas</p>

<p class=MsoNormal><span class=GramE>from</span> <span class=SpellE>numpy</span>
import array, <span class=SpellE>asarray</span>, ma, zeros</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>numpy</span>
as np</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE>turnstile_weather</span> = <span
class=SpellE>pandas.read_<span class=GramE>csv</span></span><span class=GramE>(</span><span
class=SpellE>sys.argv</span>[1])</p>

<p class=MsoNormal><span class=GramE>rain</span> =
turnstile_weather[turnstile_weather['rain']==1]['ENTRIESn_hourly']</p>

<p class=MsoNormal><span class=SpellE><span class=GramE>nora</span></span> =
turnstile_weather[turnstile_weather['rain']==0]['ENTRIESn_hourly']</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>def</span></span> <span
class=SpellE>get_u_mannwhitneyu</span>(x, y):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>x = <span
class=SpellE>asarray</span>(x)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>y = <span
class=SpellE>asarray</span>(y)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>n1 = <span
class=SpellE>len</span>(x)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>n2 = <span
class=SpellE>len</span>(y)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>ranked</span>
= <span class=SpellE>scipy.stats.rankdata</span>(<span class=SpellE>np.concatenate</span>((x,
y)))</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>rankx</span></span> = ranked[0:n1]<span
style='mso-spacerun:yes'>  </span># get the x-ranks</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>u1 = <span
class=SpellE><span class=GramE>np.sum</span></span><span class=GramE>(</span><span
class=SpellE>rankx</span>, axis=0) - (n1*(n1+1))/2.0 # <span class=SpellE>calc</span>
U for x</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>u2 = n1*n2 - u1 #
remainder is U for y</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
u1,u2</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>print</span> <span class=SpellE>get_u_mannwhitneyu</span>(rain,
<span class=SpellE>nora</span>)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Histogram of rides on
rainy and not rainy days</b></p>

<p class=MsoNormal><span class=GramE>import</span> sys</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>numpy</span>
as np</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>scipy</span></p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>matplotlib.pyplot</span>
as <span class=SpellE>plt</span></p>

<p class=MsoNormal><span class=GramE>import</span> pandas</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE>turnstile_weather</span> = <span
class=SpellE>pandas.read_<span class=GramE>csv</span></span><span class=GramE>(</span><span
class=SpellE>sys.argv</span>[1]) </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>def</span></span> <span
class=SpellE>plot_distribution</span>(<span class=SpellE>turnstile_weather</span>):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>plt.figure</span></span><span class=GramE>()</span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>rain</span>
= turnstile_weather[turnstile_weather['rain']==1]['ENTRIESn_hourly']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>nora</span></span> =
turnstile_weather[turnstile_weather['rain']==0]['ENTRIESn_hourly']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>plt.figure</span></span><span class=GramE>()</span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>#<span
class=SpellE><span class=GramE>rain.plot</span></span><span class=GramE>(</span>kind='<span
class=SpellE>hist</span>', stacked=True, bins=20, label = 'Rain')</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>#<span
class=SpellE><span class=GramE>nora.plot</span></span><span class=GramE>(</span>kind='<span
class=SpellE>hist</span>', stacked=True, bins=20, label = 'No Rain')</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>plt.hist</span></span><span class=GramE>(</span>[<span
class=SpellE>rain,nora</span>], bins=40, stacked=<span class=SpellE>True,color</span>=['blue',
'coral'],label = ['<span class=SpellE>Rain','No</span> Rain'])</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>plt.xlabel</span></span><span class=GramE>(</span>&quot;<span
class=SpellE>ENTRIESn_hourly</span>&quot;)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>plt.ylabel</span></span><span class=GramE>(</span>&quot;Frequency&quot;)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>plt.title</span></span><span class=GramE>(</span>&quot;Histogram
of <span class=SpellE>Rideship</span> on Rainy and Non-rainy days&quot;, color
= 'blue', size = 'x-large')</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>plt.legend</span></span><span class=GramE>()</span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>plt.show</span></span><span class=GramE>()</span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
<span class=SpellE>plt</span></p>

<p class=MsoNormal><span class=SpellE>plot_<span class=GramE>distribution</span></span><span
class=GramE>(</span><span class=SpellE>turnstile_weather</span>)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Plot ridership by
time-of-day<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>import</span> sys</p>

<p class=MsoNormal><span class=GramE>from</span> pandas import *</p>

<p class=MsoNormal><span class=GramE>from</span> <span class=SpellE>ggplot</span>
import *</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>pandasql</span></p>

<p class=MsoNormal><span class=SpellE>pandas.options.mode.chained_assignment</span>
= <span class=GramE>None</span></p>

<p class=MsoNormal><span class=SpellE>turnstile_weather</span> = <span
class=SpellE>pandas.read_<span class=GramE>csv</span></span><span class=GramE>(</span><span
class=SpellE>sys.argv</span>[1]) </p>

<p class=MsoNormal><span class=SpellE><span class=GramE>def</span></span> <span
class=SpellE>plot_weather_data</span>(<span class=SpellE>turnstile_weather</span>):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE>turnstile_<span class=GramE>weather.rename</span></span><span
class=GramE>(</span>columns = lambda x: <span class=SpellE>x.replace</span>('
', '_').lower(), <span class=SpellE>inplace</span>=True)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>q =
&quot;&quot;&quot;</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>SELECT Hour, <span
class=GramE>sum(</span><span class=SpellE>ENTRIESn_hourly</span>)<span
style='mso-spacerun:yes'>  </span>FROM <span class=SpellE>turnstile_weather</span>
GROUP BY Hour;</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&quot;&quot;&quot;</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>df</span></span> = <span class=SpellE>pandasql.sqldf</span>(<span
class=SpellE>q.lower</span>(), locals())</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>plot = <span
class=SpellE>ggplot</span>(<span class=SpellE>aes</span>(x='hour', y='sum(<span
class=SpellE>entriesn_hourly</span>)'), data=df)+geom_line(color='steelblue',size=3)+geom_point(color='steelblue',size=30)+ggtitle('Rideship
by Time-of-day')+<span class=SpellE>xlab</span>('Hour of the day')+<span
class=SpellE>ylab</span>('Ridership')+<span class=SpellE>xlim</span>(0,20)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
plot</p>

<p class=MsoNormal><span class=GramE>print</span> <span class=SpellE>plot_weather_data</span>(<span
class=SpellE>turnstile_weather</span>)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Plot fitted values vs
residuals<o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>import</span> sys</p>

<p class=MsoNormal><span class=GramE>from</span> <span class=SpellE>ggplot</span>
import *</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>numpy</span>
as np</p>

<p class=MsoNormal><span class=GramE>import</span> pandas</p>

<p class=MsoNormal><span class=GramE>import</span> <span class=SpellE>statsmodels.api</span>
as <span class=SpellE>sm</span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>dataframe</span></span>
= <span class=SpellE>pandas.read_csv</span>(<span class=SpellE>sys.argv</span>[1])
</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>def</span></span> <span
class=SpellE>linear_regression</span>(features, values):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>features</span>
= <span class=SpellE>sm.add_constant</span>(features)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>model</span>
= <span class=SpellE>sm.OLS</span>(<span class=SpellE>values,features</span>)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>results</span>
= <span class=SpellE>model.fit</span>()</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>intercept</span>
= <span class=SpellE>results.params</span>[0]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>params</span></span> = <span class=SpellE>results.params</span>[1:]</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
intercept, <span class=SpellE>params</span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>def</span></span>
predictions(<span class=SpellE>dataframe</span>):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>features</span>
= <span class=SpellE>dataframe</span>[['<span class=SpellE>rain','hour</span>',
'<span class=SpellE>meantempi</span>','<span class=SpellE>day_week</span>']]</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE>dummy_units</span> = <span class=SpellE>pandas.get_<span
class=GramE>dummies</span></span><span class=GramE>(</span><span class=SpellE>dataframe</span>[['UNIT','<span
class=SpellE>conds</span>']], prefix=['unit','<span class=SpellE>conds</span>'])</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>features</span>
= <span class=SpellE>features.join</span>(<span class=SpellE>dummy_units</span>)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span># Values</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>values</span>
= <span class=SpellE>dataframe</span>['<span class=SpellE>ENTRIESn_hourly</span>']</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span># Perform linear
regression</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>intercept</span>,
<span class=SpellE>params</span> = <span class=SpellE>linear_regression</span>(features,
values)<span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>predictions</span>
= intercept + np.dot(features, <span class=SpellE>params</span>)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
predictions</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>def</span></span> <span
class=SpellE>plot_res_vs_fittted</span>(<span class=SpellE>dataframe</span>,
predictions):</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>df</span></span> = <span class=SpellE>dataframe</span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>pred</span></span> = predictions(<span
class=SpellE>df</span>)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>df.rename</span></span><span class=GramE>(</span>columns
= lambda x: <span class=SpellE>x.replace</span>(' ', '_').lower(), <span
class=SpellE>inplace</span>=True)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>df</span></span><span class=GramE>[</span>'predictions']
= <span class=SpellE>pred</span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>df</span></span><span class=GramE>[</span>'difference']
= <span class=SpellE>df</span>['<span class=SpellE>entriesn_hourly</span>'] - <span
class=SpellE>df</span>['predictions']</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>plot = <span
class=SpellE>ggplot</span>(<span class=SpellE>aes</span>(x='predictions',
y='difference'),
data=df)+geom_point(color='blue',size=15)+geom_hline(yintercept=0,color='red',linetype='dashed',size=1.5)+ggtitle('Residual
Plot for Linear Fit')+<span class=SpellE>xlab</span>('Fitted values')+<span
class=SpellE>ylab</span>('Residuals') +<span class=SpellE>xlim</span>(0,12000)</p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
plot</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>print</span> <span class=SpellE>plot_res_vs_fittted</span>(<span
class=SpellE>dataframe</span>, predictions)</p>

</div>

</body>

</html>
